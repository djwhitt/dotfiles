#!/usr/bin/env bash
set -euo pipefail

window_class="kitty-lf"

# Check if window with class kitty-lf exists
if hyprctl clients -j | jq -e '.[] | select(.class == "'"$window_class"'")' > /dev/null 2>&1; then
  # Window exists - focus it
  hyprctl dispatch focuswindow "class:$window_class"
else
  # Window doesn't exist - launch it
  kitty --class "$window_class" --title "lf" -o env=EDITOR=e -o env=VISUAL=e lf &
  disown
fi
